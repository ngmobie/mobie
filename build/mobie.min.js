(function (document, window, angular, undefined) { 'use strict';angular.module("mobie.components",["mobie.components.animation","mobie.components.sidenav","mobie.components.backdrop","mobie.components.popup","mobie.components.modal","mobie.components.bar","mobie.components.icon","mobie.components.action-sheet","mobie.components.spinner"]),angular.module("mobie",["mobie.core","mobie.components"]),angular.module("mobie.core",["mobie.core.helpers","mobie.core.registry","mobie.core.eventemitter","mobie.core.scroll","mobie.core.component"]);
function MbSimpleComponentFactory(e,t){function n(e,n,i){t.call(this),this.isVisible=!1,angular.isObject(n)&&(i=n,n=void 0,angular.extend(this,i)),angular.isDefined(e)&&this.setElement(e),angular.isDefined(n)&&this.setId(n),this.on("visibleStateChangeSuccess",function(){this.emit(this.getVisibleState()?"visible":"notVisible")}),this.on("visibleStateChangeStart",function(e){this.emit(e?"visibleChangeStart":"notVisibleChangeStart")})}return inherits(n,t,{show:function(){return this.setVisibleState(!0)},hide:function(){return this.setVisibleState(!1)},toggle:function(){return this.setVisibleState(!this.getVisibleState())},getHiddenClass:function(){return"mb-hidden"},getVisibleClass:function(){return"mb-visible"},getVisibleState:function(){return!!this.isVisible},getClassReceiverElement:function(){return this.classReceiverElement?this.classReceiverElement:this.getElement()},setClassReceiverElement:function(e){return this.classReceiverElement=e,this},removeElement:function(){return this.getElement().remove(),this},setVisibleState:function(t){var n,i,s=this,r=this.getClassReceiverElement(),o=this.getHiddenClass(),l=this.getVisibleClass();return this.emit("visibleStateChangeStart",t),n=t?l:o,i=t?o:l,e.setClass(r,n,i).then(function(){s.isVisible=t,s.emit("visibleStateChangeSuccess")},function(e){s.emit("visibleStateChangeError",e)})},setId:function(e){if(angular.isDefined(this.getId()))throw new Error("You cannot change a component.id more than once");return Object.defineProperty(this,"id",{value:e,writable:!1}),this},getId:function(){return this.id},setElement:function(e){if(!e)throw new Error("invalid element");this.element=angular.element(e);var t=this.getVisibleState(),n=this.getHiddenClass(),i=this.getClassReceiverElement();return i.hasClass(n)||t||i.addClass(n),this},getElement:function(){return this.element}}),n}function $MbComponentProvider(){function e(e,n,i,s,r,o,l,a){function h(n,i,s){var o=this;e.call(this),angular.isObject(n)&&(s=n,n=null),angular.isUndefined(s)&&(s={}),angular.isString(n)&&(s.templateUrl=n,n=void 0),this.options=s=mobie.defaults(s,t),i&&this.setId(i),this.on("scope",function(e){var t=this.options;t.controller&&this.appendController(t.controller,t.controllerAs)}),mobie.isScope(s.scope)||(s.scope=a.$new());var l=s.scope=this.scope=s.scope.$new();this.emit("scope",this.scope),l.$on("$destroy",function(){o.destroy()}),this.on("componentLink",function(e){this.once("visibleChangeStart",function(){e(this.scope)})}),this.on("element",function(e){this.componentLink=r(this.getElement());this.emit("componentLink",this.componentLink)}),(this.options.templateUrl||this.options.template)&&this.digest(function(){this.prepareComponent()}.bind(this))}var c=angular.element(document.body);return inherits(h,e,{storeTemplateAfterRequest:function(e){var t=this.options.templateUrl,n=e.data;return o.put(t,n),this.getTemplateSync()},getTemplateSync:function(){return this.options.template||o.get(this.options.templateUrl)},getElementAsync:function(){if(this.getElement())return i.when(this.getElement());var e=this.getTemplateSync()||n.get(this.options.templateUrl).then(this.storeTemplateAfterRequest.bind(this));return i.when(e).then(function(e){var t=angular.element(e);return this.setElement(t),t}.bind(this))},prepareComponent:function(){return this.getElementAsync()},locals:function(e){return this.digest(function(t){angular.extend(t,e)}),this},appendController:function(e,t){var n=this.scope,i=this.options;return this.controller=s(i.controller,{$scope:n,$component:this}),angular.isString(t)&&($scope[t]=this.controller),this},digest:function(e){var t=this.scope;return e||(e=angular.noop),t&&t.$root?(t.$$phase||t.$root.$$phase?e&&t.$applyAsync(e):t.$apply(e),this):(e(t),this)},setElement:function(){if(this.getElement())throw new Error("Element already exists");var t=e.prototype.setElement;return t.apply(this,arguments),this.emit("element",this.getElement()),this.enterElement()},enterElement:function(){var e=this;return angular.isUndefined(this.parentElement)&&(this.parentElement=c),this.emit("enterElementStart"),l.enter(this.getElement(),this.parentElement).then(function(){e.emit("enter")})},removeElement:function(){return this.getElement().remove(),this.element=void 0,this},leaveElement:function(){var e=this;return this.emit("leaveElementStart"),l.leave(this.getElement()).then(function(){return e.emit("leave"),e})},destroy:function(){var e=this;return this.emit("destroy"),this.hide().then(function(){return e.leaveElement()}).then(function(){return e.removeAllListeners()}).then(function(){return e.removeElement()}).then(function(){e.emit("destroyed")})}}),h}var t=this.defaults={};e.$inject=["MbSimpleComponent","$http","$q","$controller","$compile","$templateCache","$animate","$rootScope"],this.$get=e}MbSimpleComponentFactory.$inject=["$animate","EventEmitter"],angular.module("mobie.core.component",["mobie.core.helpers","mobie.components.animation"]).factory("MbSimpleComponent",MbSimpleComponentFactory).provider("MbComponent",$MbComponentProvider);
function tryFunctionObject(t){try{return fnToStr.call(t),!0}catch(r){return!1}}function isCallable(t){if("function"!=typeof t)return!1;if(hasToStringTag)return tryFunctionObject(t);var r=to_string.call(t);return r===fnClass||r===genClass}var Empty=function(){},array_push=Array.prototype.push,max=Math.max,array_slice=Array.prototype.slice,fnClass="[object Function]",to_string=Object.prototype.toString,array_concat=Array.prototype.concat,hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;Function.prototype.hasOwnProperty("bind")||(Function.prototype.bind=function(t){var r=this;if(!isCallable(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var n,a=array_slice.call(arguments,1),o=function(){if(this instanceof n){var o=r.apply(this,array_concat.call(a,array_slice.call(arguments)));return $Object(o)===o?o:this}return r.apply(t,array_concat.call(a,array_slice.call(arguments)))},e=max(0,r.length-a.length),c=[],i=0;e>i;i++)array_push.call(c,"$"+i);return n=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this, arguments); }")(o),r.prototype&&(Empty.prototype=r.prototype,n.prototype=new Empty,Empty.prototype=null),n});
function EventEmitter(){EventEmitter.init.call(this)}function EventEmitterFactory(){return EventEmitter}EventEmitter.EventEmitter=EventEmitter,EventEmitter.usingDomains=!1,EventEmitter.prototype.domain=void 0,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.init=function(){this.domain=null,EventEmitter.usingDomains&&(domain=domain||require("domain"),!domain.active||this instanceof domain.Domain||(this.domain=domain.active)),this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events={}),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(e){if(!utilangularisNumber(e)||0>e||isNaN(e))throw new TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,i,s,r,o;if(this._events||(this._events={}),"error"===e&&!this._events.error){if(t=arguments[1],!this.domain)throw t instanceof Error?t:Error('Uncaught, unspecified "error" event.');return t||(t=new Error('Uncaught, unspecified "error" event.')),t.domainEmitter=this,t.domain=this.domain,t.domainThrown=!1,this.domain.emit("error",t),!1}if(n=this._events[e],angular.isUndefined(n))return!1;if(this.domain&&this!==process&&this.domain.enter(),angular.isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,s=new Array(i-1),r=1;i>r;r++)s[r-1]=arguments[r];n.apply(this,s)}else if(angular.isObject(n)){for(i=arguments.length,s=new Array(i-1),r=1;i>r;r++)s[r-1]=arguments[r];for(o=n.slice(),i=o.length,r=0;i>r;r++)o[r].apply(this,s)}return this.domain&&this!==process&&this.domain.exit(),!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!angular.isFunction(t))throw new TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,angular.isFunction(t.listener)?t.listener:t),this._events[e]?angular.isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,angular.isObject(this._events[e])&&!this._events[e].warned){var n;n=angular.isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d %s listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length,e),console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!angular.isFunction(t))throw new TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},EventEmitter.prototype.removeListener=function(e,t){var n,i,s,r;if(!angular.isFunction(t))throw new TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,i=-1,n===t||angular.isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(angular.isObject(n)){for(r=s;r-->0;)if(n[r]===t||n[r].listener&&n[r].listener===t){i=r;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],angular.isFunction(n))this.removeListener(e,n);else if(Array.isArray(n))for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?angular.isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?angular.isFunction(e._events[t])?1:e._events[t].length:0},angular.module("mobie.core.eventemitter",[]).factory("EventEmitter",EventEmitterFactory);
function inherits(e,n,r){e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&angular.extend(e.prototype,r)}function nextId(){return id++,id}function digest(e,n,r){e&&(angular.isUndefined(n)&&(n=function(){}),e.$$phase||e.$root&&e.$root.$$phase?e.$applyAsync(n.bind(r)):e.$apply(n.bind(r)))}var mobie={};mobie.isScope=function(e){return e&&e.$apply&&e.$applyAsync},mobie.defaults=function(e,n){var r=angular.copy(n);return angular.isObject(e)&&angular.isObject(r)?angular.extend(e,r):e};var id=0;angular.module("mobie.core.helpers",["mobie.core.eventemitter"]);
function $MbComponentRegistryFactory(){var n=[],e={get:function(e){var r;if(angular.forEach(n,function(n){n.id===e&&(r=n)}),angular.isUndefined(r))throw new Error('component "'+e+'" is not defined');return r},register:function(e,r){function i(){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}if(angular.isUndefined(e.id)&&angular.isUndefined(r))throw new Error("component must have a id key or you must specify one for this instance");return angular.isUndefined(e.id)&&(e.id=r),n.push(e),i}};return e}angular.module("mobie.core.registry",["mobie.core.helpers"]).factory("$mbComponentRegistry",$MbComponentRegistryFactory);
function $MbScrollProvider(){function t(t,o,r){function i(){r.call(this);var t=this;s.on("scroll",function(l){t.emit("scroll",l)}),this.on("scroll",this.onScroll),this.on("scrollStop",this.onScrollStop),Object.defineProperty(this,"scrollY",{get:function(){return this.getScrollY()}})}{var s=angular.element(t);s[0].document.body}return inherits(i,r),angular.extend(i.prototype,{scrollStoppedFn:function(t){this.emit("scrollStop",t)},getLastScrollY:function(){return this.lastScrollY},setLastScrollY:function(t){this.lastScrollY=t},getScrollY:function(){return s.prop("scrollY")},onScrollStop:function(){this.setLastScrollY(this.getScrollY()),this.setScrollingState(!1)},setScrollingState:function(t){this.scrollingState=t},isScrolling:function(){return this.scrollingState},onScroll:function(t){var r=window.scrollY,i=this;this.setScrollingState(!0),o.cancel(this.scrollStoppedPromise),0===r&&this.emit("scrollTop",t),r>this.lastScrollY?this.emit("scrollDown",t):this.emit("scrollUp",t),this.scrollStoppedPromise=o(function(){i.scrollStoppedFn(t)},l.scrollStoppedMs)}}),new i}this.$get=t;var l=this.defaults={scrollStoppedMs:100};t.$inject=["$window","$timeout","EventEmitter"]}angular.module("mobie.core.scroll",["mobie.core.helpers"]).provider("$mbScroll",$MbScrollProvider);
function $MbActionSheetProvider(){function t(t){function n(){t.call(this);var n=this.scope;n.cancelTextButton=e.cancelTextButton,n.$$close=n.close=function(){return this.hide()}.bind(this)}return inherits(n,t,{defaults:e}),new n}var e=this.defaults={templateUrl:"mobie/components/action-sheet.html",activeBodyClass:"mb-action-sheet-visible",cancelTextButton:"Cancel"};this.$get=t,t.$inject=["MbActionSheet"]}angular.module("mobie.components.action-sheet",["mobie.components.backdrop","mobie.core.component","mobie.core.helpers"]).factory("MbActionSheet",["$mbBackdrop","MbPopup",function(t,e){function n(){e.call(this);var n=t.element[0],o=function(t){t.target==n&&this._close()}.bind(this),i=function(t){27===t.keyCode&&this._close()}.bind(this);this.on("notVisibleChangeStart",function(){t.hide()}).on("visibleChangeStart",function(){t.show()}).on("bindEvents",function(){this.scope.backdropEvents&&n.addEventListener("click",o),this.scope.escapeKey&&n.addEventListener("keydown",i)}).on("unbindEvents",function(){n.removeEventListener("click",o)}),this.defaultScopeAttrs.groups=[],this.defaultScopeAttrs.noCancelButton=!1}return inherits(n,e,{_close:function(){this.digest(function(){this.hide()})},configureScope:function(t){var e=t.groups,n=t.buttons;e.length<1&&n&&this.noGroupApproach(t,n),angular.forEach(e,function(t){this.configureButtons(t.buttons)}.bind(this))},noGroupApproach:function(t,e){var n=t.title,o=t.groups,i={title:n,buttons:e};o.push(i)}}),n}]).provider("$mbActionSheet",$MbActionSheetProvider);
function AnimationDirective(){return function(n,i,t){function a(n){e="";var i=n.split(/\ /),t=i.length;angular.forEach(i,function(n,i){e+="mb-"+n,t>i&&(e+=" ")})}function o(n){i.hasClass(n)&&i.removeClass(n)}function r(n){i.addClass(n)}var e;t.$observe("mbAnimation",function(n){angular.isString(e)&&o(e),a(n),r(e)})}}angular.module("mobie.components.animation",[]).directive("mbAnimationDuration",function(){return function(n,i,t){function a(n){angular.isUndefined(n)||""===n||(n+="ms"),i.css("-webkit-animation-duration",n),i.css("-moz-animation-duration",n),i.css("animation-duration",n)}t.$observe("mbAnimationDuration",function(n){return angular.isUndefined(n)?a(void 0):void a(n)})}}).directive("mbAnimation",AnimationDirective);
function BackdropFactory(a,o){var e=angular.element(document.body),r=angular.element("<div>");r.addClass("backdrop mb-backdrop"),a.enter(r,e);var n=new o(r,"default-backdrop");return n}BackdropFactory.$inject=["$animate","MbSimpleComponent"],angular.module("mobie.components.backdrop",["mobie.core.component"]).factory("$mbBackdrop",BackdropFactory);
function BarFixedTopDirective(n,o,e,i){function r(o,r,t){function c(){return e.cancel(l)}function u(n){return digest(o,function(){c(),l=e(function(){return m[n?"show":"hide"]()},a)})}var l,a=60,m=new i(r),d=!0;n.on("scrollTop",function(){u(!0)}),n.on("scrollDown",function(n){u(!1)}),n.on("scrollUp",function(n){u(!0)}),u(d)}return{restrict:"A",compile:function(n,o){return n.addClass("mb-fixed-top"),r}}}BarFixedTopDirective.$inject=["$mbScroll","$animate","$timeout","MbSimpleComponent"],angular.module("mobie.components.bar",["mobie.core.scroll"]).directive("mbBarFixedTop",BarFixedTopDirective);
angular.module("mobie.components.icon",[]).directive("mbIcon",function(){return{restrict:"EA",scope:{name:"@"},template:'<span ng-class="classes" ng-show="hasIconName"></span>',controller:["$scope","$attrs",function(s,e){s.classes={fa:!0},e.$observe("name",function(e){s.hasIconName=e?s.classes["fa-"+e]=!0:!1})}]}});
function $MbModalProvider(){function e(e,n,t,i){function a(a){angular.isUndefined(a)&&(a={});var a=mobie.defaults(a,o);e.call(this,a);var d=this,l=this.scope;this.scope.$hide=function(){d.scope.$$postDigest(function(){return d.hide()})},this.on("visibleChangeStart",function(){t.show(),n.addClass(s,a.activeBodyClass)}),this.on("notVisible",function(){digest(l,function(){i(function(){t.hide()}),n.removeClass(s,a.activeBodyClass)})})}var s=angular.element(document.body);return inherits(a,e),angular.extend(function(e){return new a(e)},{MbModal:a})}var o=this.defaults={templateUrl:"components/modal/modal.html",activeBodyClass:"mb-modal-visible"};e.$inject=["MbComponent","$animate","$mbBackdrop","$timeout"],this.$get=e}angular.module("mobie.components.modal",["mobie.core.component","mobie.core.helpers","mobie.components.backdrop"]).provider("$mbModal",$MbModalProvider);
function $MbPopupProvider(){function t(t,i){function e(){t.call(this);var n=this.component.getElement(),i=n[0],e=function(t){t.target==i&&this.digest(function(){this.hide()})}.bind(this);this.on("bindEvents",function(){i.addEventListener("click",e)}).on("unbindEvents",function(){i.removeEventListener("click",e)})}return inherits(e,t,{defaults:n}),new e}this.$get=t;var n=this.defaults={templateUrl:"mobie/components/popup.html",activeBodyClass:"mb-popup-visible"};t.$inject=["MbPopup","$mbBackdrop"]}var bodyEl=angular.element(document.body);angular.module("mobie.components.popup",["mobie.core.helpers","mobie.core.component","mobie.components.backdrop"]).factory("MbPopup",["$rootScope","MbComponent","$q","$animate",function(t,n,i,e){function s(i){EventEmitter.call(this),this.on("scope",function(t){t.close=function(){this.scope.$$postDigest(function(){this.hide()}.bind(this))}.bind(this)}),this.options={},angular.isObject(i)&&angular.extend(this.options,i);var e=this.options.scope=this.scope=t.$new();this.applyDefaults(),this.history={},this.component=new n(this.options),this.component.on("element",function(t){this.el=t,this.node=this.el[0]}.bind(this)),this.bodyElement=angular.element(document.body),Object.defineProperty(this,"lastId",{get:function(){var t=Object.keys(this.history);return t.length<1?0:parseInt(t[t.length-1])}}),this.emit("scope",e),angular.forEach(this.replicateEvents,function(t){this.component.on(t,function(){this.emit(t)}.bind(this))}.bind(this)),this.on("hide",function(t,n){this.history[n]=t})}return inherits(s,EventEmitter,{replicateEvents:["visible","notVisible","visibleChangeStart","notVisibleChangeStart"],getOptions:function(){return this.options},createScope:function(){return this.options.scope=this.scope=t.$new(),this.scope},applyDefaults:function(){return mobie.defaults(this.options,this.defaults),this},digest:function(t){return digest(this.scope,t,this)},asyncDigest:function(){return i(function(t){this.digest(function(n){t(n)})}.bind(this))},unbindEvents:function(){return this.asyncDigest().then(function(){this.emit("unbindEvents")}.bind(this))},bindEvents:function(){return this.asyncDigest().then(function(){this.emit("bindEvents")}.bind(this))},setActiveBodyClass:function(t){return this.asyncDigest().then(function(){return e[t?"addClass":"removeClass"](this.bodyElement,this.options.activeBodyClass)}.bind(this))},setBackdrop:function(t){return this.asyncDigest().then(function(){return $mbBackdrop[t?"show":"hide"]()})},getVisibleState:function(){return this.component.getVisibleState()},setComponent:function(t){return this.asyncDigest().then(function(){return this.component[t?"show":"hide"]()}.bind(this))},hide:function(){return this.setComponent(!1).then(function(){return this.unbindEvents()}.bind(this)).then(function(){this.emit("hide",this.options,this.id)}.bind(this))},defaultScopeAttrs:{text:"",title:"",template:"",buttons:[{text:"OK",classes:["button-stable"]}],backdropEvents:!0},scopeReset:function(){this.scopeExtend(this.defaultScopeAttrs),this.emit("reset")},scopeExtend:function(t){return this.digest(function(n){angular.extend(n,t),this.emit("updated")}.bind(this)),this},showById:function(t){var n=this.history[t];return angular.isUndefined(n)?i.reject(new Error("popup id does not exists")):this.show(n,t)},show:function(t,n){return this.getVisibleState()?this.hide().then(function(){return this.show(t,n)}.bind(this)):angular.isNumber(t)?this.showById(t):t?(this.id=n||nextId(),this.options=t,this.emit("show",t,this.id),this.scopeReset(),this.scopeExtend(t),this.digest(function(){this.configureScope(this.scope)}),this.setComponent(!0).then(function(){return this.bindEvents()}.bind(this))):this.show(this.lastId)},configureOnTapEvent:function(t){var n=function(n){return this.emit("onTap",this.id,this.scope,n),t.call(this,this.scope,n)};return n.bind(this)},configureButtonClasses:function(t){var n=t.classes;t.classes={},angular.forEach(n,function(n){t.classes[n]=!0})},configureButtons:function(t){angular.forEach(t,function(t,n){angular.isFunction(t.onTap)||(t.onTap=this.defaultOnTapFn),angular.isArray(t.classes)&&this.configureButtonClasses(t);t.onTap;t.onTap=this.configureOnTapEvent(t.onTap)}.bind(this))},configureScope:function(t){this.configureButtons(t.buttons)},defaultOnTapFn:function(){return this.asyncDigest().then(function(){return this.hide()}.bind(this))}}),s}]).provider("$mbPopup",$MbPopupProvider);
function MbSidenavController(e,n,i,o,t,r,c,a,l,d){function s(n){return digest(e,n)}function m(e){s(function(){a[e?"show":"hide"](),angular.isString(p)&&t[e?"addClass":"removeClass"](v,p)})}function u(e){s(function(){g.hide()})}var v=angular.element(d.document.body),b=a.getElement(),f=l.getOptions(),p=f.activeBodyClass,g=this.component=new r(n,{id:i.componentId});c.register(this.component),g.on("visibleChangeStart",function(){m(!0)}),g.on("visible",function(){b.on("click",u)}),g.on("notVisible",function(){b.off("click",u),m(!1)})}function CloseDirective(){return{require:"?^mbSidenav",link:function(e,n,i,o){angular.isUndefined(o)||n.on("click",function(){e.$apply(function(){o.component.hide()})})}}}function $MbSidenavProvider(){function e(e){return angular.extend(function(n){return e.get(n)},{getOptions:function(){return n}})}var n=this.defaults={activeBodyClass:"mb-sidenav-visible"};e.$inject=["$mbComponentRegistry"],this.$get=e}function SidenavDirective(){return{restrict:"EA",scope:{},controller:"MbSidenavController",controllerAs:"mbSidenavCtrl"}}MbSidenavController.$inject=["$scope","$element","$attrs","$transclude","$animate","MbSimpleComponent","$mbComponentRegistry","$mbBackdrop","$mbSidenav","$window"],angular.module("mobie.components.sidenav",["mobie.components.animation","mobie.components.backdrop","mobie.core.registry","mobie.core.component","mobie.core.helpers"]).directive("mbClose",CloseDirective).controller("MbSidenavController",MbSidenavController).provider("$mbSidenav",$MbSidenavProvider).directive("mbSidenav",SidenavDirective);
function $MbSpinnerProvider(){function n(r,e,i,a){var c,o,s,u=document.createElement(d[r]||r);for(c in e)if(angular.isArray(e[c]))for(o=0;o<e[c].length;o++)if(e[c][o].fn)for(s=0;s<e[c][o].t;s++)n(c,e[c][o].fn(s,a),u,a);else n(c,e[c][o],u,a);else t(u,c,e[c]);i.appendChild(u)}function t(n,t,r){n.setAttribute(d[t]||t,r)}function r(n,t){var r=n.split(";"),e=r.slice(t),i=r.slice(0,r.length-e.length);return r=e.concat(i).reverse(),r.join(";")+";"+r[0]}function e(n,t){return n/=t/2,1>n?.5*n*n*n:(n-=2,.5*(n*n*n+2))}function i(){function t(n,t){a.animations[t]&&a.animations[t](n)()}function r(n){return n=n.toLowerCase(),"spinner-"+n}var e={};return e.create=function(e,i){var a,c;a=i,c=m[a],c||(a="ios",c=m.ios);var o=document.createElement("div");return n("svg",{viewBox:"0 0 64 64",g:[m[a]]},o,a),e.html(o.innerHTML),e.addClass(r(i)),t(e[0],a),a},e.getSpinners=function(){return Object.keys(a.spinners)},e}var a=this.defaults={},c="translate(32,32)",o="stroke-opacity",s="round",u="indefinite",f="750ms",l="none",d=a.SHORTCUTS={a:"animate",an:"attributeName",at:"animateTransform",c:"circle",da:"stroke-dasharray",os:"stroke-dashoffset",f:"fill",lc:"stroke-linecap",rc:"repeatCount",sw:"stroke-width",t:"transform",v:"values"},p=a.SPIN_ANIMATION={v:"0,32,32;360,32,32",an:"transform",type:"rotate",rc:u,dur:f},v={sw:4,lc:s,line:[{fn:function(n,t){return{y1:"ios"==t?17:12,y2:"ios"==t?29:20,t:c+" rotate("+(30*n+(6>n?180:-180))+")",a:[{fn:function(){return{an:o,dur:f,v:r("0;.1;.15;.25;.35;.45;.55;.65;.7;.85;1",n),rc:u}},t:1}]}},t:12}]},m={android:{c:[{sw:6,da:128,os:82,r:26,cx:32,cy:32,f:l}]},ios:v,"ios-small":v,bubbles:{sw:0,c:[{fn:function(n){return{cx:24*Math.cos(2*Math.PI*n/8),cy:24*Math.sin(2*Math.PI*n/8),t:c,a:[{fn:function(){return{an:"r",dur:f,v:r("1;2;3;4;5;6;7;8",n),rc:u}},t:1}]}},t:8}]},circles:{c:[{fn:function(n){return{r:5,cx:24*Math.cos(2*Math.PI*n/8),cy:24*Math.sin(2*Math.PI*n/8),t:c,sw:0,a:[{fn:function(){return{an:"fill-opacity",dur:f,v:r(".3;.3;.3;.4;.7;.85;.9;1",n),rc:u}},t:1}]}},t:8}]},crescent:{c:[{sw:4,da:128,os:82,r:26,cx:32,cy:32,f:l,at:[p]}]},dots:{c:[{fn:function(n){return{cx:16+16*n,cy:32,sw:0,a:[{fn:function(){return{an:"fill-opacity",dur:f,v:r(".5;.6;.8;1;.8;.6;.5",n),rc:u}},t:1},{fn:function(){return{an:"r",dur:f,v:r("4;5;6;5;4;3;3",n),rc:u}},t:1}]}},t:3}]},lines:{sw:7,lc:s,line:[{fn:function(n){return{x1:10+14*n,x2:10+14*n,a:[{fn:function(){return{an:"y1",dur:f,v:r("16;18;28;18;16",n),rc:u}},t:1},{fn:function(){return{an:"y2",dur:f,v:r("48;44;36;46;48",n),rc:u}},t:1},{fn:function(){return{an:o,dur:f,v:r("1;.8;.5;.4;1",n),rc:u}},t:1}]}},t:4}]},ripple:{f:l,"fill-rule":"evenodd",sw:3,circle:[{fn:function(n){return{cx:32,cy:32,a:[{fn:function(){return{an:"r",begin:-1*n+"s",dur:"2s",v:"0;24",keyTimes:"0;1",keySplines:"0.1,0.2,0.3,1",calcMode:"spline",rc:u}},t:1},{fn:function(){return{an:o,begin:-1*n+"s",dur:"2s",v:".2;1;.2;0",rc:u}},t:1}]}},t:2}]},spiral:{defs:[{linearGradient:[{id:"sGD",gradientUnits:"userSpaceOnUse",x1:55,y1:46,x2:2,y2:46,stop:[{offset:.1,"class":"stop1"},{offset:1,"class":"stop2"}]}]}],g:[{sw:4,lc:s,f:l,path:[{stroke:"url(#sGD)",d:"M4,32 c0,15,12,28,28,28c8,0,16-4,21-9"},{d:"M60,32 C60,16,47.464,4,32,4S4,16,4,32"}],at:[p]}]}};angular.extend(a,{spinners:m,SPIN_ANIMATION:p,animations:{android:function(n){function r(){var n=e(Date.now()-i,650),u=1,f=0,l=188-58*n,d=182-182*n;a%2&&(u=-1,f=-64,l=128- -58*n,d=182*n);var p=[0,-101,-90,-11,-180,79,-270,-191][a];t(s,"da",Math.max(Math.min(l,188),128)),t(s,"os",Math.max(Math.min(d,182),0)),t(s,"t","scale("+u+",1) translate("+f+",0) rotate("+p+",32,32)"),c+=4.1,c>359&&(c=0),t(o,"t","rotate("+c+",32,32)"),n>=1&&(a++,a>7&&(a=0),i=Date.now()),window.requestAnimationFrame(r)}var i,a=0,c=0,o=n.querySelector("g"),s=n.querySelector("circle");return function(){i=Date.now(),r()}}}}),this.$get=i}function SpinnerDirective(n){function t(t,r,e){n.create(r,t.icon)}return{restrict:"E",scope:{icon:"@"},compile:function(n){return n.addClass("spinner"),t}}}SpinnerDirective.$inject=["$mbSpinner"],angular.module("mobie.components.spinner",[]).directive("mbSpinner",SpinnerDirective).provider("$mbSpinner",$MbSpinnerProvider);}(document, window, angular, undefined))